<div class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <div *ngFor="let product of products" class="card bg-base-100 shadow-xl flex flex-col">
    <figure class="w-full aspect-[16 / 9] overflow-hidden rounded-t-lg">
      <img
        [src]="product.imageUrl"
        [alt]="product.name"
        class="w-full h-full object-cover"
      />
    </figure>

    <div class="card-body flex flex-col flex-1">
      <h2 class="card-title">{{ product.name }}</h2>
      <p class="flex-1">{{ product.description }}</p>
      <div class="mb-4">
        <span class="badge badge-primary mr-2">â‚¬{{ product.price }}</span>
        <span class="badge badge-secondary">Stock: {{ product.stock }}</span>
      </div>

      <div class="form-control mb-4">
        <label class="label">
          <span class="label-text">Ajouter du stock</span>
        </label>
        <input
          type="number"
          min="1"
          class="input input-bordered w-full"
          [(ngModel)]="stockToAdd[product.id]"
        />
      </div>

      <div class="card-actions mt-auto w-full flex justify-between">
        <button
          class="btn btn-sm btn-outline btn-success flex-1 mr-2"
          (click)="addStock(product.id)"
          [disabled]="stockToAdd[product.id] <= 0"
        >
          + Stock
        </button>
        <button
          class="btn btn-sm btn-outline btn-error flex-1 ml-2"
          (click)="deleteProduct(product.id)"
        >
          Supprimer
        </button>
      </div>
    </div>
  </div>
</div>
