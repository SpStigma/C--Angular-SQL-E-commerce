<div class="min-h-[85vh] flex items-center justify-center bg-base-200 px-4 py-12">
  <div class="card w-full max-w-2xl shadow-2xl bg-base-100">
    <div class="card-body space-y-6">
      
      <!-- Titre -->
      <h2 class="card-title justify-center text-3xl text-primary">
        Ajouter un produit
      </h2>

      <!-- Formulaire -->
      <form (ngSubmit)="onSubmit()" #productForm="ngForm" class="grid grid-cols-1 gap-6">

        <!-- Nom -->
        <div class="form-control">
          <label class="label">
            <span class="label-text font-semibold">Nom du produit</span>
          </label>
          <input 
            type="text" 
            placeholder="Entrez le nom" 
            class="input input-bordered w-full" 
            [(ngModel)]="product.name" 
            name="name" 
            required 
          />
        </div>

        <!-- Description -->
        <div class="form-control">
          <label class="label">
            <span class="label-text font-semibold">Description</span>
          </label>
          <textarea 
            placeholder="Entrez la description" 
            class="textarea textarea-bordered w-full" 
            [(ngModel)]="product.description" 
            name="description" 
            required 
          ></textarea>
        </div>

        <!-- Prix & Stock -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="form-control">
            <label class="label">
              <span class="label-text font-semibold">Prix (€)</span>
            </label>
            <input 
              type="number" 
              placeholder="0.00" 
              class="input input-bordered w-full" 
              [(ngModel)]="product.price" 
              name="price" 
              required 
            />
          </div>
          <div class="form-control">
            <label class="label">
              <span class="label-text font-semibold">Stock</span>
            </label>
            <input 
              type="number" 
              placeholder="0" 
              class="input input-bordered w-full" 
              [(ngModel)]="product.stock" 
              name="stock" 
              required 
            />
          </div>
        </div>

        <!-- Upload d'image -->
        <div class="form-control">
          <label class="label">
            <span class="label-text font-semibold">Image</span>
          </label>
          <input 
            type="file" 
            class="file-input file-input-bordered w-full" 
            (change)="onFileSelected($event)" 
            accept="image/*" 
          />
          <span *ngIf="uploadError" class="text-error mt-1">{{ uploadError }}</span>
        </div>

        <!-- Boutons -->
        <div class="flex flex-col sm:flex-row gap-4 pt-4">
          <button 
            type="button" 
            class="btn btn-outline btn-error flex-1"
            (click)="router.navigate(['/admin/products'])">
            ❌ Annuler
          </button>

          <button 
            type="submit" 
            class="btn btn-primary flex-1"
            [disabled]="productForm.invalid">
            ✅ Créer
          </button>
        </div>

        <!-- Message d'erreur -->
        <div *ngIf="createError" class="text-error text-center mt-2">
          {{ createError }}
        </div>
      </form>
    </div>
  </div>
</div>
