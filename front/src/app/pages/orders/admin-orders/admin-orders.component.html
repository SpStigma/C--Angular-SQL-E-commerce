<div class="admin-orders-container p-4 flex flex-col items-center w-full">
  <h2 class="text-3xl font-bold mb-4">Toutes les commandes</h2>
  <div *ngIf="loading" class="animate-pulse text-center">Chargement...</div>
  <div *ngIf="errorMessage" class="alert alert-error mb-4 w-full max-w-5xl">{{ errorMessage }}</div>

  <div *ngIf="!loading && orders.length > 0" class="overflow-x-auto w-full">
    <table class="table table-zebra w-full max-w-5xl mx-auto">
      <thead>
        <tr>
          <th>ID</th>
          <th>Utilisateur</th>
          <th>Date</th>
          <th>Total</th>
          <th>Statut</th>
          <th>Détails</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders">
          <td>{{ order.id }}</td>
          <td>{{ order.userId }}</td>
          <td>{{ order.createdAt | date:'short' }}</td>
          <td>{{ order.totalAmount | currency }}</td>
          <td>
            <span [ngClass]="{
               'badge badge-warning': order.status === 'Pending',
               'badge badge-success': order.status === 'Paid',
               'badge badge-info': order.status === 'Shipped',
               'badge badge-accent': order.status === 'Delivered',
               'badge badge-error': order.status === 'Cancelled'
            }">{{ order.status }}</span>
          </td>
          <td>
            <a [routerLink]="['/admin/orders', order.id]" class="btn btn-sm btn-primary">Voir</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!loading && orders.length === 0" class="text-center mt-4 w-full max-w-5xl">Aucune commande trouvée.</div>
</div>
